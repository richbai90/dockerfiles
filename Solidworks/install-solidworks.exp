#!/usr/bin/expect -f
#
# This Expect script was generated by autoexpect on Thu Mar 31 21:28:14 2022
# Expect and autoexpect were both written by Don Libes, NIST.
#
# Note that autoexpect does not guarantee a working script.  It
# necessarily has to guess about certain things.  Two reasons a script
# might fail are:
#
# 1) timing - A surprising number of programs (rn, ksh, zsh, telnet,
# etc.) and devices discard or ignore keystrokes that arrive "too
# quickly" after prompts.  If you find your new script hanging up at
# one spot, try adding a short sleep just before the previous send.
# Setting "force_conservative" to 1 (see below) makes Expect do this
# automatically - pausing briefly before sending each character.  This
# pacifies every program I know of.  The -c flag makes the script do
# this in the first place.  The -C flag allows you to define a
# character to toggle this mode off and on.

set force_conservative 0  ;# set to 1 to force conservative mode even if
			  ;# script wasn't run conservatively originally
if {$force_conservative} {
	set send_slow {1 .1}
	proc send {ignore arg} {
		sleep .1
		exp_send -s -- $arg
	}
}

#
# 2) differing output - Some programs produce different output each time
# they run.  The "date" command is an obvious example.  Another is
# ftp, if it produces throughput statistics at the end of a file
# transfer.  If this causes a problem, delete these patterns or replace
# them with wildcards.  An alternative is to use the -p flag (for
# "prompt") which makes Expect only look for the last line of output
# (i.e., the prompt).  The -P flag allows you to define a character to
# toggle this mode off and on.
#
# Read the man page for more info.
#
# -Don


set timeout -1
spawn ./solidworks-install.sh
match_max 100000
expect -exact "\[3J\[H\[2J--2022-03-31 21:28:14--  https://github.com/cryinkfly/SOLIDWORKS-for-Linux/raw/main/scripts/stable-branch/languages.sh\r
Resolving github.com (github.com)... 192.30.255.113\r
Connecting to github.com (github.com)|192.30.255.113|:443... connected.\r
HTTP request sent, awaiting response... 302 Found\r
Location: https://raw.githubusercontent.com/cryinkfly/SOLIDWORKS-for-Linux/main/scripts/stable-branch/languages.sh \[following\]\r
--2022-03-31 21:28:14--  https://raw.githubusercontent.com/cryinkfly/SOLIDWORKS-for-Linux/main/scripts/stable-branch/languages.sh\r
Resolving raw.githubusercontent.com (raw.githubusercontent.com)... 185.199.109.133, 185.199.110.133, 185.199.111.133, ...\r
Connecting to raw.githubusercontent.com (raw.githubusercontent.com)|185.199.109.133|:443... connected.\r
HTTP request sent, awaiting response... 200 OK\r
Length: 5718 (5.6K) \[text/plain\]\r
Saving to: 'languages.sh.2'\r
\r
\rlanguages.sh.2        0%\[                    \]       0  --.-KB/s               \rlanguages.sh.2      100%\[===================>\]   5.58K  --.-KB/s    in 0s      \r
\r
2022-03-31 21:28:14 (32.7 MB/s) - 'languages.sh.2' saved \[5718/5718\]\r
\r
\[3J\[H\[2J\[3J\[H\[2JIn this step you need to choose a language for the SOLIDWORKS installation!\r
Choose one of these options: (English(en), German(de) or Quit(q)"
send -- "en\r"
expect -exact "en\r
languages.sh: line 46: warning: setlocale: LC_ALL: cannot change locale (en_US.UTF-8): No such file or directory\r
In this step the following packages package >dialog< and >wmctrl< are installed for the installation of SOLIDWORKS!\r
Do you wish to install these packages (y/n)?"
send -- "y\r"
expect -exact "y\r
Debian-based\r
\r0% \[Working\]\r            \rGet:1 http://security.debian.org/debian-security stretch/updates InRelease \[53.0 kB\]\r
\r0% \[Connecting to deb.debian.org\] \[1 InRelease 10.1 kB/53.0 kB 19%\]\r                                                                   \r0% \[Connecting to deb.debian.org (151.101.42.132)\]\r0% \[1 InRelease gpgv 53.0 kB\] \[Waiting for headers\]\r                                                   \rIgn:2 http://deb.debian.org/debian stretch InRelease\r
\r0% \[1 InRelease gpgv 53.0 kB\] \[Waiting for headers\]\r                                                   \rHit:3 http://deb.debian.org/debian stretch-updates InRelease\r
\r0% \[1 InRelease gpgv 53.0 kB\] \[Waiting for headers\]\r                                                   \rHit:4 http://deb.debian.org/debian stretch-backports InRelease\r
\r                                                   \r0% \[1 InRelease gpgv 53.0 kB\]\r                             \rHit:5 http://deb.debian.org/debian stretch Release\r
\r0% \[1 InRelease gpgv 53.0 kB\]\r                             \r0% \[Working\]\r0% \[3 InRelease gpgv 93.6 kB\]\r                             \rGet:6 http://security.debian.org/debian-security stretch/updates/main amd64 Packages \[759 kB\]\r
\r0% \[3 InRelease gpgv 93.6 kB\] \[6 Packages 4096 B/759 kB 1%\]\r                                                           \r0% \[6 Packages 596 kB/759 kB 79%\]\r0% \[4 InRelease gpgv 91.8 kB\] \[6 Packages 596 kB/759 kB 79%\]\r                                                            \r0% \[4 InRelease gpgv 91.8 kB\]\r0% \[6 Packages store 0 B\] \[4 InRelease gpgv 91.8 kB\]\r                                                    \r0% \[6 Packages store 0 B\]\r0% \[6 Packages store 0 B\] \[Release.gpg gpgv 118 kB\]\r                                                   \r0% \[Release.gpg gpgv 118 kB\]\r                            \r100% \[Working\]\r              \rFetched 812 kB in 0s (1758 kB/s)\r
\rReading package lists... 0%\r\rReading package lists... 0%\r\rReading package lists... 1%\r\rReading package lists... 83%\r\rReading package lists... 83%\r\rReading package lists... 92%\r\rReading package lists... 92%\r\rReading package lists... 99%\r\rReading package lists... 99%\r\rReading package lists... Done\r\r
\rReading package lists... 0%\r\rReading package lists... 0%\r\rReading package lists... 1%\r\rReading package lists... 83%\r\rReading package lists... 83%\r\rReading package lists... 92%\r\rReading package lists... 92%\r\rReading package lists... 99%\r\rReading package lists... 99%\r\rReading package lists... Done\r\r
\rBuilding dependency tree... 0%\r\rBuilding dependency tree... 0%\r\rBuilding dependency tree... 50%\r\rBuilding dependency tree... 50%\r\rBuilding dependency tree       \r\r
\rReading state information... 0%\r\rReading state information... 0%\r\rReading state information... Done\r\r
The following additional packages will be installed:\r
  apt-utils bzip2 cgmanager cron dbus dh-python distro-info-data dmsetup exim4\r
  exim4-base exim4-config exim4-daemon-light file gir1.2-glib-2.0\r
  gir1.2-packagekitglib-1.0 guile-2.0-libs iso-codes libapparmor1\r
  libapt-inst2.0 libcap2-bin libcgmanager0 libcryptsetup4 libcurl3-gnutls\r
  libdbus-1-3 libdbus-glib-1-2 libdevmapper1.02.1 libfribidi0 libgc1c2\r
  libgirepository-1.0-1 libglib2.0-0 libglib2.0-bin libglib2.0-data libgsasl7\r
  libgstreamer1.0-0 libicu57 libip4tc0 libkmod2 libkyotocabinet16v5 libltdl7\r
  liblzo2-2 libmagic-mgc libmagic1 libmailutils5 libmariadbclient18 libmpdec2\r
  libnih-dbus1 libnih1 libntlm0 libpackagekit-glib2-18 libpam-cap\r
  libpam-systemd libpolkit-agent-1-0 libpolkit-backend-1-0\r
  libpolkit-gobject-1-0 libprocps6 libpython2.7 libpython2.7-minimal\r
  libpython2.7-stdlib libpython3-stdlib libpython3.5-minimal\r
  libpython3.5-stdlib libreadline7 libseccomp2 libsqlite3-0 libwrap0 libxml2\r
  lsb-release mailutils mailutils-common mime-support mysql-common netbase\r
  packagekit packagekit-tools policykit-1 procps psmisc python-apt-common\r
  python3 python3-apt python3-dbus python3-gi python3-minimal python3-pycurl\r
  python3-software-properties python3.5 python3.5-minimal readline-common\r
  sgml-base shared-mime-info systemd systemd-shim tcpd unattended-upgrades\r
  xdg-user-dirs xml-core xz-utils\r
Suggested packages:\r
  bzip2-doc anacron logrotate checksecurity default-dbus-session-bus\r
  | dbus-session-bus libdpkg-perl eximon4 exim4-doc-html | exim4-doc-info\r
  spf-tools-perl swaks isoquery gstreamer1.0-tools lsb mailutils-mh\r
  mailutils-doc appstream python3-doc python3-tk python3-venv python3-apt-dbg\r
  python-apt-doc python-dbus-doc python3-dbus-dbg libcurl4-gnutls-dev\r
  python-pycurl-doc python3-pycurl-dbg python3.5-venv python3.5-doc binutils\r
  binfmt-support readline-doc sgml-base-doc systemd-ui systemd-container\r
  pm-utils bsd-mailx needrestart debhelper\r
The following NEW packages will be installed:\r
  apt-utils bzip2 cgmanager cron dbus dh-python dialog distro-info-data\r
  dmsetup exim4 exim4-base exim4-config exim4-daemon-light file\r
  gir1.2-glib-2.0 gir1.2-packagekitglib-1.0 guile-2.0-libs iso-codes\r
  libapparmor1 libapt-inst2.0 libcap2-bin libcgmanager0 libcryptsetup4\r
  libcurl3-gnutls libdbus-1-3 libdbus-glib-1-2 libdevmapper1.02.1 libfribidi0\r
  libgc1c2 libgirepository-1.0-1 libglib2.0-0 libglib2.0-bin libglib2.0-data\r
  libgsasl7 libgstreamer1.0-0 libicu57 libip4tc0 libkmod2 libkyotocabinet16v5\r
  libltdl7 liblzo2-2 libmagic-mgc libmagic1 libmailutils5 libmariadbclient18\r
  libmpdec2 libnih-dbus1 libnih1 libntlm0 libpackagekit-glib2-18 libpam-cap\r
  libpam-systemd libpolkit-agent-1-0 libpolkit-backend-1-0\r
  libpolkit-gobject-1-0 libprocps6 libpython2.7 libpython2.7-minimal\r
  libpython2.7-stdlib libpython3-stdlib libpython3.5-minimal\r
  libpython3.5-stdlib libreadline7 libseccomp2 libsqlite3-0 libwrap0 libxml2\r
  lsb-release mailutils mailutils-common mime-support mysql-common netbase\r
  packagekit packagekit-tools policykit-1 procps psmisc python-apt-common\r
  python3 python3-apt python3-dbus python3-gi python3-minimal python3-pycurl\r
  python3-software-properties python3.5 python3.5-minimal readline-common\r
  sgml-base shared-mime-info software-properties-common systemd systemd-shim\r
  tcpd unattended-upgrades wmctrl xdg-user-dirs xml-core xz-utils\r
0 upgraded, 100 newly installed, 0 to remove and 1 not upgraded.\r
Need to get 47.2 MB of archives.\r
After this operation, 181 MB of additional disk space will be used.\r
Do you want to continue? \[Y/n\] "
send -- "y\r"
expect eof
